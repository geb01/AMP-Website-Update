function allowDropdown(){$(".dropdown-button").click(function(){var a=$(this).find(".arrow"),b=$(this).parent().find(".hidden-dropdown");a.hasClass("selected")?(b.slideUp(),a.removeClass("selected")):(b.slideDown(),a.addClass("selected"))})}function allowParallaxBackground(){$(".parallax").each(function(){var a=$(this),b=1.013;$(this).is("[scale]")&&(b=parseFloat($(this).attr("scale"))),transform(a,"scale("+(1+2*(b-1))+")"),window.DeviceMotionEvent&&(window.ondevicemotion=function(c){if(a.hasClass("selected")){var d=c.accelerationIncludingGravity.y,e=-(d+10)*b;a.css("background-position-y",e+"px ")}}),$(document).mousemove(function(c){if(a.hasClass("selected")){var d=c.pageX,e=c.pageY-$(window).scrollTop(),f=-d*(b-1),g=-e*(b-1);a.css("background-position",f+"px "+g+"px")}})})}function runSlideshows(){0!=$(".slideshow").length&&($(".slider>*").click(function(){if(!$(this).hasClass("selected")){var a=$(this).attr("index"),b=$(this).parent().parent();b.find(".selected").removeClass("selected"),b.find("[index="+a+"]").addClass("selected"),$(document).mousemove()}}),$(".slider>span").length>0&&$(".slider>span")[Math.floor(Math.random()*$(".slider>span").length)].click(),setInterval(function(){$(".slideshow").each(function(){var a=$(this).children(".slider");if(!a.is(":hover")){var b=a.children(".selected"),c=b.next();c.length?c.click():a.children(":first-child").click()}})},1e4))}function allowHrefScroll(){var a=$("html,body");$("[href*=#]").click(function(b){if(0==b.button){var c=$(this).attr("href").slice(1),d=c.length?$("#"+c).offset().top:0;a.animate({scrollTop:d},400),b.preventDefault()}}),$('a[href$="index.php"]').each(function(){var a=$(this).attr("href").replace("index.php","./");$(this).attr("href",a)});var b=window.location.href.lastIndexOf("#");if(-1!=b){var c=window.location.href.slice(b+1),d=$("section#"+c).offset().top;a.animate({scrollTop:d},1)}}function adjustFeatures(){function b(){$(".selected",a).each(function(){var a=$(this),b=$(".feature-pic",a),c=$(".feature-description",a);c.css("overflow","visible");var d=c.children("div"),e=parseFloat(d.outerHeight());c.css("bottom",""),b.height()+e>a.height()?c.css("top",a.height()-e+"px"):c.css("top",b.height()+"px")})}var a=$(".feature-wrapper");$(".feature-labels>*").click(function(){var a=$(this).closest(".feature").find(".selected");a.length&&a.attr("index")==$(this).attr("index")||(a.length&&a.removeClass("selected"),$("[index="+$(this).attr("index")+"]",$(this).closest(".feature")).addClass("selected"),b())}),$(window).resize(b),setTimeout(function(){$(".feature-labels>*:first-child").click()},300),$(".feature").each(function(){var a=$(this),b=$(".feature-labels",a);setInterval(function(){if(!a.is(":hover")){var c=$(".selected",b),d=c.next();d.length?d.click():b.children().first().click()}},7e3)})}function adjustHeader(){var a=$("header"),b=$(".menu-button",a),c=$("#menu-label",a),e=($(".amp-logo",a),$("#search-bar",a)),f=$("#menu",a),g=$("#widget-container",a);b.add(c).click(function(){f.toggleClass("hidden")}),$("dt+dd",a).prev("dt").addClass("parent"),$("html").click(function(){!f.hasClass("hidden")||f.is(":hover")||b.is(":hover")||c.is(":hover")||f.addClass("hidden")});var h=$("section[id]");if(h.length){h.each(function(){var a=$(this).attr("id");g.append("<a class='widget' href='#"+a+"'><div>"+a.replace("-"," ")+"</div></a>")});var i=$(".widget",g);i.first().addClass("selected");var j=0;$(window).scroll(function(){for(var a=$(this).scrollTop()+window.innerHeight/2,b=j;j+1<h.length&&h[j].offsetTop<a;)++j;for(;j>0&&h[j].offsetTop>a;)--j;b!=j&&($(i[b]).removeClass("selected"),$(i[j]).addClass("selected"))}),$(window).scroll()}e.hover(function(){$("input",$(this)).focus()}),$("dd",f).hover(function(){$(this).prev("dt").addClass("hover")},function(){$(this).prev("dt").removeClass("hover")})}function adjustDividers(){$(".divider-container").each(function(){function e(){a.offsetWidth<a.scrollWidth?(a.scrollLeft>0?(c.css("left",a.scrollLeft+"px"),c.fadeIn(300)):c.fadeOut(300),a.scrollLeft+a.offsetWidth<a.scrollWidth?(d.css("right",-a.scrollLeft+"px"),d.fadeIn(300)):d.fadeOut(300)):(c.fadeOut(300),d.fadeOut(300))}var a=this,b=$(this).children(".divider");b.css("width",100/b.length+"%");var c=$(this).find(".left"),d=$(this).find(".right");$(window).resize(e),$(".left.scroller").click(function(){var b=Math.max(0,a.scrollLeft-a.offsetWidth/2);Math.abs(a.scrollLeft-b)<Number.EPSILON||($(a).animate({scrollLeft:b},300,e),c.animate({left:b},300),d.animate({right:-b},300))}),$(".right.scroller").click(function(){var b=Math.min(a.scrollWidth-a.offsetWidth,a.scrollLeft+a.offsetWidth/2);Math.abs(a.scrollLeft-b)<Number.EPSILON||($(a).animate({scrollLeft:b},300,e),c.animate({left:b},300),d.animate({right:-b},300))}),setTimeout(e,300)})}function transform(a,b){a.css({"-webkit-transform":b,"-ms-transform":b,transform:b})}$(document).ready(function(){adjustHeader(),adjustDividers(),adjustFeatures(),runSlideshows(),allowParallaxBackground(),allowHrefScroll(),allowDropdown(),$("div[src],.divider[src]").each(function(){$(this).css("background-image","url("+$(this).attr("src")+")"),$(this).attr("src",null)})}),$.fn.reverse=[].reverse,$.fn.selectText=function(){var a=document,b=this[0];if(a.body.createTextRange){var c=document.body.createTextRange();c.moveToElementText(b),c.select()}else if(window.getSelection){var d=window.getSelection(),c=document.createRange();c.selectNodeContents(b),d.removeAllRanges(),d.addRange(c)}};